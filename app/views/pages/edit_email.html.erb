<div class="account-form-page">
  <h2 class="account-form-page__title">メールアドレスを変更</h2>

  <div class="account-form-card">
    <%= render "devise/shared/error_messages", resource: current_user %>

    <%= form_with model: current_user, url: account_email_path, method: :patch, local: true do |f| %>
      <div class="account-form__field">
        <%= f.label :email, "新しいメールアドレス", class: "account-form__label" %><br>
        <%= f.email_field :email,
                          autofocus: true,
                          autocomplete: "email",
                          class: "account-form__input" %>
      </div>

      <div class="account-form__field">
        <%= f.label :current_password, "現在のパスワード", class: "account-form__label" %><br>
        <%= f.password_field :current_password,
                             autocomplete: "current-password",
                             class: "account-form__input" %>
        <p class="account-form__help-text">
          本人確認のため、現在のパスワードを入力してください。
        </p>
      </div>

      <div class="account-form__actions">
        <%= f.submit "メールアドレスを更新する", class: "account-form__submit" %>
      </div>
    <% end %>
  </div>

  <p class="account-form-page__back">
    <%= link_to "マイページに戻る", account_path, class: "account-form__back-link" %>
  </p>
</div>
